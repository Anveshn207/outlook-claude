# KurweBall — Context Summary

## Session Summary
- **Date**: 2026-02-13 (afternoon session — Dark Mode SaaS Redesign + Branding + Cloudflare Tunnel)
- **Project**: KurweBall — Unified Recruiting Platform (ATS + CRM)
- **Location**: `C:\Outlook Claude\Kurweball`

### Accomplished This Session

1. **Full Dark Mode SaaS Redesign** — Complete dark/light theme system:
   - Installed `framer-motion` + `next-themes`
   - Tailwind v4 dark mode via `@custom-variant dark` + `.dark {}` CSS block in globals.css
   - Dark palette: #0a0a12 background, #12121e cards, #252538 borders, #818cf8 primary, #f1f5f9 text
   - ThemeProvider (next-themes, class strategy, defaults to **light** mode)
   - ThemeToggle (sun/moon with rotate cross-fade) placed in navbar between bell and avatar

2. **Framer Motion Animations** across entire app:
   - Reusable components: FadeIn, StaggerContainer, StaggerItem, PageTransition, AnimatedCard, ScaleIn
   - Navbar: glassmorphism (bg-card/80 backdrop-blur-xl)
   - Sidebar: gradient bg, animated layoutId="sidebar-active" indicator, AnimatePresence mobile overlay
   - AppShell: `<PageTransition key={pathname}>` wraps ALL 17+ dashboard pages
   - Dashboard: FadeIn welcome, StaggerContainer + AnimatedCard stat cards
   - Auth pages: FadeIn on login/register cards, gradient background blobs

3. **Dark Mode Color Fixes** on ALL 21 pages:
   - Every status/badge/priority/role color map updated with `dark:` variants
   - Pattern: `bg-{color}-100` → added `dark:bg-{color}-900/30`, `text-{color}-700` → `dark:text-{color}-400`
   - Fixed: notification-bell (bg-card), toaster (dark variants), pipeline (stage + status colors)
   - Fixed: candidates, clients, jobs, reports, interviews, tasks, team, roles, settings, notifications

4. **Branding** — Renamed "Kurweball" to "KurweBall" (capital B) across all UI text

5. **Sidebar Avatar** — Changed to `bg-indigo-500 text-white` for visibility against dark sidebar

6. **Cloudflare Tunnel** — Installed cloudflared, created temporary public URL for sharing:
   - Executable: `C:\Program Files (x86)\cloudflared\cloudflared.exe`
   - Command: `"C:\Program Files (x86)\cloudflared\cloudflared.exe" tunnel --url http://localhost:3000`
   - URL changes each time tunnel restarts

### What Needs to Be Done Next (Prioritized)
1. **Deploy to Hetzner** — SSH port still firewalled (65.108.218.222). Need IP whitelist.
2. **Commit untracked files** — account/page.tsx, avatar.tsx, tabs.tsx (from prior session)
3. **Optional cleanup** — Remove per-controller @UseGuards(JwtAuthGuard) (now APP_GUARD)

### Key Decisions
- Tailwind v4 dark mode: `@custom-variant dark` + `.dark {}` block (NOT tailwind.config.js)
- Default theme is "light" with toggle to enable dark mode
- Sidebar avatar: bg-indigo-500 text-white (bright enough for dark sidebar)
- Branding: "KurweBall" (capital B) everywhere

## Technical State

### New Files Created
- `apps/web/src/components/providers/theme-provider.tsx` — next-themes wrapper
- `apps/web/src/components/shared/motion.tsx` — FadeIn, StaggerContainer, StaggerItem, PageTransition, AnimatedCard, ScaleIn
- `apps/web/src/components/shared/theme-toggle.tsx` — Sun/Moon toggle with AnimatePresence

### Files Modified (30 files)
- `apps/web/package.json` + `package-lock.json` (framer-motion, next-themes)
- `apps/web/src/app/globals.css` (dark mode CSS vars, @custom-variant, shimmer keyframe)
- `apps/web/src/app/layout.tsx` (ThemeProvider, suppressHydrationWarning)
- `apps/web/src/app/page.tsx` (KurweBall branding)
- `apps/web/src/app/(auth)/layout.tsx` (gradient background)
- `apps/web/src/app/(auth)/login/page.tsx` (FadeIn, branding)
- `apps/web/src/app/(auth)/register/page.tsx` (FadeIn, branding)
- `apps/web/src/components/layout/navbar.tsx` (glassmorphism, ThemeToggle)
- `apps/web/src/components/layout/sidebar.tsx` (gradient, layoutId, AnimatePresence, avatar, branding)
- `apps/web/src/components/layout/app-shell.tsx` (PageTransition, branding)
- `apps/web/src/components/shared/notification-bell.tsx` (bg-card, dark unread)
- `apps/web/src/components/ui/toaster.tsx` (dark toast variants)
- All dashboard pages: candidates, candidates/[id], clients/[id], dashboard, interviews, jobs, jobs/[id], notifications, pipeline, reports, roles, search, settings, tasks, team

### Untracked Files (from prior session, not yet committed)
- `apps/web/src/app/(dashboard)/account/page.tsx`
- `apps/web/src/components/ui/avatar.tsx`
- `apps/web/src/components/ui/tabs.tsx`

### Build Status
- Frontend: CLEAN (zero TS errors)
- API: CLEAN
- Git: master branch, latest commit `3d1d988`, pushed to origin

### Running Services
- API: `cd apps/api && node --require @swc-node/register src/main.ts` (port 3001)
- Frontend: `cd apps/web && npm run dev` (port 3000)
- Cloudflare tunnel: running in background (URL changes per session)
- Login: admin@acme.com / password123 (user: Anvesh N, role: ADMIN)

## Resume Instructions
1. Read this file + `memory/MEMORY.md`
2. Both servers may need restarting (API on 3001, frontend on 3000)
3. Commit the 3 untracked files (account page, avatar, tabs)
4. Priority: Deploy to Hetzner when SSH access is available
5. To restart tunnel: `"C:\Program Files (x86)\cloudflared\cloudflared.exe" tunnel --url http://localhost:3000`
6. Verify builds: `npx tsc --noEmit` in apps/web
