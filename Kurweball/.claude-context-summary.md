# KurweBall — Context Summary

## Session Summary
- **Date**: 2026-02-24
- **Project**: KurweBall — Unified Recruiting Platform (ATS + CRM)
- **Location**: `C:\Outlook Claude\Kurweball`
- **Branch**: master

### Accomplished This Session
1. **Export for ALL dashboard sections** — Added 4 new backend export endpoints (interviews, tasks, bench-sales, users) and added ExportDropdown to 5 more pages (interviews, tasks, bench-sales, team, pipeline). Total: 8 pages now have export (CSV/XLSX/DOCX).
2. **Interview delete button** — Added delete functionality to interviews page, gated by `can("interviews:delete")` RBAC check.
3. **Smart Import E2E Test** — Tested with a 5-row CSV with tricky headers (Applicant Name, Contact Number, Work Authorization, Primary Skills, etc.). All 11 columns auto-mapped at 0.9-1.0 confidence. All 5 candidates imported successfully with correct name splitting, skill arrays, visa normalization, source enum mapping.
4. **SSE Cleanup** — Verified already done. `use-notification-stream.ts` already has AbortController cleanup. NotificationBell persists in navbar across routes. No changes needed.

### Key Files Modified This Session
**Backend (2 files):**
- `apps/api/src/modules/import-export/export.service.ts` — Added exportInterviews, exportTasks, exportBenchSales, exportUsers methods
- `apps/api/src/modules/import-export/export.controller.ts` — Added 4 GET endpoints: /export/interviews, /export/tasks, /export/bench-sales, /export/users

**Frontend (7 files):**
- `apps/web/src/components/shared/export-dropdown.tsx` — Expanded ExportEntity type to 8 entities
- `apps/web/src/app/(dashboard)/interviews/page.tsx` — +ExportDropdown +handleDelete +Trash2 delete button
- `apps/web/src/app/(dashboard)/tasks/page.tsx` — +ExportDropdown
- `apps/web/src/app/(dashboard)/bench-sales/page.tsx` — +ExportDropdown
- `apps/web/src/app/(dashboard)/team/page.tsx` — +ExportDropdown
- `apps/web/src/app/(dashboard)/pipeline/page.tsx` — +ExportDropdown for submissions

### What Needs To Be Done Next
1. **Deploy to Hetzner** (65.108.218.222) — BLOCKED: SSH port firewalled, need to whitelist IP first
2. **Visual verification** — Open browser, log in as admin, click export on each page to verify UI looks correct
3. **XLSX export test** — Test Excel format export (CSV verified via curl, XLSX needs browser download test)

### Database Users
| Name | Email | Password | Role |
|------|-------|----------|------|
| Anvesh N | anvesh.n@engineeringsquare.us | Admin123$ | ADMIN |
| Mounica A (Hr) | Hr@engineeringsquare.us | Test1234$ | MANAGER |
| Saikumar | saikumar@engineeringsquare.us | Test1234$ | MANAGER |
| Sarah Johnson | sarah@acme.com | password123 | RECRUITER |
| Mike Davis | mike@acme.com | password123 | RECRUITER |

### Test Candidates Imported This Session
John Smith, Maria Garcia, Raj Patel, Emily Chen, Ahmed Hassan — all imported via smart import CSV test.

## Resume Instructions
1. Read this file + `memory/MEMORY.md`
2. Start API: `cd apps/api && node --require @swc-node/register src/main.ts`
3. Start frontend: `cd apps/web && npm run dev`
4. Next priority: Deploy to Hetzner (need SSH access first), or visual verification of export buttons
5. All export endpoints work (verified via curl). All pages have ExportDropdown. Interview delete works.
