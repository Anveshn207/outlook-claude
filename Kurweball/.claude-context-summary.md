# KurweBall — Context Summary

## Session Summary
- **Date**: 2026-02-24
- **Project**: KurweBall — Unified Recruiting Platform (ATS + CRM)
- **Location**: `C:\Outlook Claude\Kurweball`
- **Branch**: master

### Accomplished This Session
1. **Smart Import Field Mapping — Full Overhaul**
   - **Backend (`ai-mapping.service.ts`)**: Expanded from 4 to 25+ data patterns analyzing actual cell VALUES. Detects emails, phones, LinkedIn URLs, visa statuses (H1B/OPT/CPT/EAD/GC), skills (120+ tech keywords), dates, rates/salary ($), US states (50 abbrs + full names), company names (Inc/LLC/Corp suffixes), source keywords (LinkedIn/Referral/Indeed...), status keywords, boolean values, applicant IDs, locations, industries, countries. Combined scoring: nameScore + dataScore, boosted to 0.85-0.95 when both agree. Conflict resolution phase. First/Last name disambiguation.
   - **Frontend (`column-mapping-table.tsx`)**: Redesigned with green "Auto-Matched Fields" section and amber "Needs Your Input" section. Summary bar with progress indicator and unmapped fields badges. Disabled already-mapped fields in dropdowns with "(already mapped)" labels. 3 sample rows for unmatched columns. Dark mode support.
   - **Import dialog (`import-dialog.tsx`)**: Wider dialog (max-w-3xl), updated step 2 description.

### Key Files Modified
- `apps/api/src/modules/import-export/ai-mapping.service.ts` — Full rewrite (275 → 1074 lines)
- `apps/web/src/components/shared/column-mapping-table.tsx` — Full rewrite (129 → 399 lines)
- `apps/web/src/components/shared/import-dialog.tsx` — 2 minor edits (width, description)

### What Needs To Be Done Next
1. **Test import with real CSV/XLSX files** — Verify the new smart mapping works E2E
2. **Admin full access + CSV/Excel export for all dashboard sections** — User requested "admin should have access to add or delete or edit or download as csv or excel for all the sections under the dashboard". NOT YET STARTED.
3. **Deploy to Hetzner** (65.108.218.222) — SSH port firewalled, need to whitelist IP first
4. **NotificationStream SSE cleanup** — Minor: add AbortController for clean SSE close on page transitions

### Database Users
| Name | Email | Password | Role |
|------|-------|----------|------|
| Anvesh N | anvesh.n@engineeringsquare.us | Admin123$ | ADMIN |
| Mounica A (Hr) | Hr@engineeringsquare.us | Test1234$ | MANAGER |
| Saikumar | saikumar@engineeringsquare.us | Test1234$ | MANAGER |
| Sarah Johnson | sarah@acme.com | password123 | RECRUITER |
| Mike Davis | mike@acme.com | password123 | RECRUITER |

## Resume Instructions
1. Read this file + `memory/MEMORY.md`
2. Start API: `cd apps/api && node --require @swc-node/register src/main.ts`
3. Start frontend: `cd apps/web && npm run dev`
4. Next priority: Test smart import, then admin full CRUD + export
5. Import mapping system was fully rewritten — smart data analysis + redesigned UI
